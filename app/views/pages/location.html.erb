<% @page = "location" %>
<div id="map-container">

</div>
<% #TODO still need to fix the map rendering %>
<div class="container">
	<div class="row">
		<div class="col-sm-8">
			<h1>Location</h1>
			<p>With such a beautiful home, you may never want to leave. While your property is the perfect place to get away from it all, offering unmatched privacy and peace, you are just a car ride away from the countless things that the area has to offer.</p>

			<p>Looking to spend the day wine tasting on the bank of the Columbia River? Just drive down the road to the Maryhill Winery, recently recognized as one of the top ten wineries in the world. While you're there, be sure to check out the Maryhill Museum, home to one of the largest collections of the famous sculptor, Auguste Rodin.</p>

			<p>How about a short trip to a world class city? Well you'll have two to choose from, with both Portland and Seattle close enough for you to visit and still get back in time for dinner (though you can stay longer, of course).</p>
		</div>
		<div class="col-sm-4">
			<h1>Activities</h1>
			<ul>
				<li>Downtown Goldendale: 15 minutes</li>
				<li>Goldendale Observatory: 20 minutes</li>
				<li>Goldendale Country Club: 20 minutes</li>
				<li>Maryhill Winery and Museum: 25 minutes</li>
				<li>The Dalles: 45 minutes</li>
				<li>Hood River: 1 hour</li>
				<li>Mt. Hood Ski Resorts: 1.5 hours</li>
				<li>Portland: 2 hours</li>
				<li>Seattle: 3 hours</li>
			</ul>
		</div>
	</div>
</div>




<script src="http://maps.google.com/maps/api/js?sensor=false"></script>
	
	<% #TODO set map boundaries at portland and goldendale, so they both show on load %>
	<% #TODO set other location points in the area %>
	<% #TODO animate the location markers %>
	<% #TODO focus on markers when user clicks a corresponding list item %>
<script>

  var map;

  function init_map() {
	var var_location = new google.maps.LatLng(45.795829, -120.968129);
	var centered_on = new google.maps.LatLng(45.640902, -121.222688);
    var var_mapoptions = {
      center: centered_on,
      zoom: 9,

      styles: [{"featureType":"landscape","stylers":[{"hue":"#FFA800"},{"saturation":0},{"lightness":0},{"gamma":1}]},{"featureType":"road.highway","stylers":[{"hue":"#53FF00"},{"saturation":-73},{"lightness":40},{"gamma":1}]},{"featureType":"road.arterial","stylers":[{"hue":"#FBFF00"},{"saturation":0},{"lightness":0},{"gamma":1}]},{"featureType":"road.local","stylers":[{"hue":"#00FFFD"},{"saturation":0},{"lightness":30},{"gamma":1}]},{"featureType":"water","stylers":[{"hue":"#00BFFF"},{"saturation":6},{"lightness":8},{"gamma":1}]},{"featureType":"poi","stylers":[{"hue":"#679714"},{"saturation":33.4},{"lightness":-25.4},{"gamma":1}]}]
      };
	var var_marker = new google.maps.Marker({
		position: var_location,
		map: map,
		title:"Home"});

	
    map = new google.maps.Map(document.getElementById("map-container"), var_mapoptions);

	var_marker.setMap(map);	
  }

  google.maps.event.addDomListener(window, 'load', init_map);
  google.maps.event.addDomListener(window, 'page:load', init_map);
  google.maps.event.addDomListener(window, 'page:change', init_map);
  
  google.maps.event.addDomListener(window, 'resize', function() {
   var center = map.getCenter();
   google.maps.event.trigger(map, "resize");
   map.setCenter(center);
  });
 
 $(document).ready(init_map);
 $(document).on('page:load', init_map);

</script>